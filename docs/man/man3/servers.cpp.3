.TH "servers.cpp" 3 "30 May 2005" "InspIRCd" \" -*- nroff -*-
.ad l
.nh
.SH NAME
servers.cpp \- 
.SH SYNOPSIS
.br
.PP
\fC#include 'inspircd_config.h'\fP
.br
\fC#include 'servers.h'\fP
.br
\fC#include 'inspircd.h'\fP
.br
\fC#include <unistd.h>\fP
.br
\fC#include <fcntl.h>\fP
.br
\fC#include <poll.h>\fP
.br
\fC#include <sys/errno.h>\fP
.br
\fC#include <sys/ioctl.h>\fP
.br
\fC#include <sys/utsname.h>\fP
.br
\fC#include <vector>\fP
.br
\fC#include <string>\fP
.br
\fC#include <deque>\fP
.br
\fC#include <sstream>\fP
.br
\fC#include <map>\fP
.br
\fC#include 'inspstring.h'\fP
.br
\fC#include 'helperfuncs.h'\fP
.br
\fC#include 'connection.h'\fP
.br

.SS "Functions"

.in +1c
.ti -1c
.RI "bool \fBIsRoutable\fP (std::string servername)"
.br
.ti -1c
.RI "bool \fBalready_have_sum\fP (std::string sum)"
.br
.in -1c
.SS "Variables"

.in +1c
.ti -1c
.RI "time_t \fBTIME\fP"
.br
.ti -1c
.RI "int \fBMaxConn\fP"
.br
.ti -1c
.RI "\fBserverrec\fP * \fBme\fP [32]"
.br
.ti -1c
.RI "bool \fBhas_been_netsplit\fP"
.br
.ti -1c
.RI "std::deque< std::string > \fBxsums\fP"
.br
.in -1c
.SH "Function Documentation"
.PP 
.SS "bool already_have_sum (std::string sum)"
.PP
Definition at line 425 of file servers.cpp.
.PP
References xsums.
.PP
Referenced by serverrec::RecvPacket().
.PP
.nf
426 {
427         for (int i = 0; i < xsums.size(); i++)
428         {
429                 if (xsums[i] == sum)
430                 {
431                         return true;
432                 }
433         }
434         if (xsums.size() >= 128)
435         {
436                 xsums.pop_front();
437         }
438         xsums.push_back(sum);
439         return false;
440 }
.fi
.SS "bool IsRoutable (std::string servername)"
.PP
Definition at line 256 of file servers.cpp.
.PP
References serverrec::connectors, me, and STATE_DISCONNECTED.
.PP
Referenced by serverrec::FlushWriteBuffers(), and serverrec::RecvPacket().
.PP
.nf
257 {
258         int c = 0;
259         for (int x = 0; x < 32; x++)
260         if (me[x])
261         {
262                 for (int i = 0; i < me[x]->connectors.size(); i++)
263                 {
264                         if ((me[x]->connectors[i].GetServerName() == servername) && (me[x]->connectors[i].GetState() != STATE_DISCONNECTED))
265                         {
266                                 c++;
267                         }
268                 }
269         }
270         return (c != 0);
271 }
.fi
.SH "Variable Documentation"
.PP 
.SS "bool \fBhas_been_netsplit\fP"
.PP
Definition at line 42 of file servers.cpp.
.PP
Referenced by serverrec::FlushWriteBuffers(), and serverrec::RecvPacket().
.SS "int \fBMaxConn\fP"
.PP
Definition at line 38 of file servers.cpp.
.PP
Referenced by serverrec::CreateListener().
.SS "\fBserverrec\fP* \fBme\fP[32]"
.PP
Definition at line 40 of file servers.cpp.
.SS "time_t \fBTIME\fP"
.PP
Definition at line 37 of file servers.cpp.
.SS "std::deque<std::string> \fBxsums\fP"
.PP
Definition at line 44 of file servers.cpp.
.PP
Referenced by already_have_sum().
.SH "Author"
.PP 
Generated automatically by Doxygen for InspIRCd from the source code.
